import{s as Oe,e as w,a as j,c as y,d as A,f as B,g as b,h as p,y as ce,F as Ce,i as O,j as h,A as De,x as Q,w as pe,z as Ve,E as it,t as me,q as _e,r as we,o as Fe,b as Be,I as Je,p as ot,k as _t,l as Qe,m as ut,n as Ne,a8 as ht,u as Ae,v as ct}from"../chunks/scheduler.Bo5rxkXI.js";import{S as qe,i as Pe,b as Ke,c as K,a as X,m as Z,t as D,d as be,e as T,f as x,g as ke}from"../chunks/index.BXG-_PB9.js";import{m as gt,e as Me}from"../chunks/mediaQuery.D7fHuHNS.js";import{a as ft,D as dt,P as vt,b as bt,T as kt,I as wt,e as yt,L as It,E as Xe,S as Et,A as pt}from"../chunks/LoadingCard.N-GFwuGK.js";import{p as Tt}from"../chunks/stores.DC9schWX.js";import{c as Re,a as Se}from"../chunks/index.XqmEgky2.js";import{u as Dt,o as Le,s as Ze,E as Vt,T as Ct,C as mt}from"../chunks/WalletsModal.CPqM0ezC.js";import{c as Ue}from"../chunks/utils.CcZNOUuG.js";import{B as He}from"../chunks/Button.C-W2ZKx2.js";import{B as At}from"../chunks/Banner.CVU6Z-xY.js";function xe(n){let e,l,t=`<div class="gradient-overlay relative z-[-1] svelte-173srmk"></div> <img src="${dt}" alt=""/>`,r,s,a,o,i,f,c,u;return{c(){e=w("div"),l=w("button"),l.innerHTML=t,r=j(),s=w("button"),a=w("div"),o=j(),i=w("img"),this.h()},l(d){e=y(d,"DIV",{class:!0});var _=A(e);l=y(_,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(l)!=="svelte-qfjyvl"&&(l.innerHTML=t),r=B(_),s=y(_,"BUTTON",{class:!0});var I=A(s);a=y(I,"DIV",{class:!0}),A(a).forEach(b),o=B(I),i=y(I,"IMG",{src:!0,alt:!0,class:!0}),I.forEach(b),_.forEach(b),this.h()},h(){p(l,"class","downloadButton aspect-sqaure flex aspect-square h-full items-center justify-center rounded-full hover:scale-[1.05] svelte-173srmk"),p(a,"class","gradient-overlay relative z-[-1] svelte-173srmk"),ce(i.src,f=ft)||p(i,"src",f),p(i,"alt",""),p(i,"class","relative transition-transform duration-300 svelte-173srmk"),Ve(i,"copied",n[3]),p(s,"class","downloadButton aspect-sqaure flex aspect-square h-full items-center justify-center rounded-full hover:scale-[1.05] svelte-173srmk"),p(e,"class","absolute bottom-2 right-2 flex h-[10%] min-h-8 justify-between gap-2")},m(d,_){O(d,e,_),h(e,l),h(e,r),h(e,s),h(s,a),h(s,o),h(s,i),c||(u=[De(l,"click",n[4]),De(s,"click",n[5])],c=!0)},p(d,_){_&8&&Ve(i,"copied",d[3])},d(d){d&&b(e),c=!1,it(u)}}}function Ut(n){let e,l,t,r,s,a,o,i=n[2]&&xe(n);return{c(){e=w("div"),l=w("img"),r=j(),i&&i.c(),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=A(e);l=y(c,"IMG",{class:!0,src:!0,alt:!0}),r=B(c),i&&i.l(c),c.forEach(b),this.h()},h(){p(l,"class","w-full"),ce(l.src,t=n[0])||p(l,"src",t),p(l,"alt","result"),p(e,"class",s=Ce(Ue("wrapper transition-duration-[2s] relative transition-all",n[1]))+" svelte-173srmk")},m(f,c){O(f,e,c),h(e,l),h(e,r),i&&i.m(e,null),a||(o=De(l,"load",n[6]),a=!0)},p(f,[c]){c&1&&!ce(l.src,t=f[0])&&p(l,"src",t),f[2]?i?i.p(f,c):(i=xe(f),i.c(),i.m(e,null)):i&&(i.d(1),i=null),c&2&&s!==(s=Ce(Ue("wrapper transition-duration-[2s] relative transition-all",f[1]))+" svelte-173srmk")&&p(e,"class",s)},i:Q,o:Q,d(f){f&&b(e),i&&i.d(),a=!1,o()}}}function $t(n,e,l){let{src:t}=e,{className:r=""}=e,s=!1,a;async function o(){try{const u=await(await fetch(t)).blob(),d=window.URL.createObjectURL(u),_=document.createElement("a");_.style.display="none",_.href=d;const I=t.split("/").pop()||"image.png";_.download=I,document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(d),document.body.removeChild(_)}catch(c){console.error("Image downloading error:",c)}}async function i(){try{await navigator.clipboard.writeText(t),l(3,a=!0),setTimeout(()=>{l(3,a=!1)},2e3)}catch(c){console.error("Failed to copy URL:",c)}}const f=()=>l(2,s=!0);return n.$$set=c=>{"src"in c&&l(0,t=c.src),"className"in c&&l(1,r=c.className)},[t,r,s,a,o,i,f]}class Ge extends qe{constructor(e){super(),Pe(this,e,$t,Ut,Oe,{src:0,className:1})}}function Nt(n){let e,l;return{c(){e=w("img"),this.h()},l(t){e=y(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,l=vt)||p(e,"src",l),p(e,"alt",""),p(e,"class","h-5 w-5")},m(t,r){O(t,e,r)},d(t){t&&b(e)}}}function Lt(n){let e,l;return{c(){e=w("img"),this.h()},l(t){e=y(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,l=bt)||p(e,"src",l),p(e,"alt",""),p(e,"class","h-5 w-5")},m(t,r){O(t,e,r)},d(t){t&&b(e)}}}function jt(n){let e,l,t,r,s,a,o,i,f,c,u,d,_,I,m,g=je(n[2])+"",F,W,L,$=je(n[4])+"",z,M,U,S,Y=`<div class="gradient-overlay z-[-1] rounded-full svelte-1531kac"></div> <img src="${dt}" alt="" class="actions relative h-4 w-4 opacity-0 transition-all duration-500 svelte-1531kac"/>`,J,q,P,C,N,ee,fe,te,se,ie,ye;function he(R,V){return R[3]?Lt:Nt}let ne=he(n),G=ne(n);return{c(){e=w("div"),l=w("video"),t=w("source"),s=w("track"),o=me(`
		Your browser does not support the video tag.`),i=j(),f=w("div"),c=w("div"),u=w("div"),_=j(),I=w("div"),m=w("span"),F=me(g),W=j(),L=w("span"),z=me($),M=j(),U=w("div"),S=w("button"),S.innerHTML=Y,J=j(),q=w("button"),P=w("div"),C=j(),N=w("img"),fe=j(),te=w("button"),G.c(),this.h()},l(R){e=y(R,"DIV",{class:!0});var V=A(e);l=y(V,"VIDEO",{id:!0,class:!0});var H=A(l);t=y(H,"SOURCE",{src:!0,type:!0}),s=y(H,"TRACK",{kind:!0,src:!0,label:!0,srclang:!0}),o=_e(H,`
		Your browser does not support the video tag.`),H.forEach(b),i=B(V),f=y(V,"DIV",{class:!0});var oe=A(f);c=y(oe,"DIV",{class:!0,id:!0,role:!0,tabindex:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0});var ae=A(c);u=y(ae,"DIV",{class:!0}),A(u).forEach(b),ae.forEach(b),_=B(oe),I=y(oe,"DIV",{class:!0});var ge=A(I);m=y(ge,"SPAN",{});var Ie=A(m);F=_e(Ie,g),Ie.forEach(b),W=B(ge),L=y(ge,"SPAN",{});var Ee=A(L);z=_e(Ee,$),Ee.forEach(b),ge.forEach(b),M=B(oe),U=y(oe,"DIV",{class:!0});var ve=A(U);S=y(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(S)!=="svelte-16t3tdn"&&(S.innerHTML=Y),J=B(ve),q=y(ve,"BUTTON",{class:!0});var k=A(q);P=y(k,"DIV",{class:!0}),A(P).forEach(b),C=B(k),N=y(k,"IMG",{src:!0,alt:!0,class:!0}),k.forEach(b),ve.forEach(b),oe.forEach(b),fe=B(V),te=y(V,"BUTTON",{class:!0});var E=A(te);G.l(E),E.forEach(b),V.forEach(b),this.h()},h(){ce(t.src,r=n[0])||p(t,"src",r),p(t,"type","video/mp4"),p(s,"kind","captions"),ce(s.src,a="")||p(s,"src",a),p(s,"label","English"),p(s,"srclang","en"),p(l,"id","video-"+n[7]),p(l,"class","w-full"),p(u,"class","progress-bar svelte-1531kac"),p(c,"class","progress-container relative svelte-1531kac"),p(c,"id","progress-container-"+n[7]),p(c,"role","slider"),p(c,"tabindex","0"),p(c,"aria-valuemin","0"),p(c,"aria-valuemax","100"),p(c,"aria-valuenow",d=n[2]/n[4]*100),p(I,"class","time relative flex justify-between text-[0.75rem] transition-all duration-500 svelte-1531kac"),p(S,"class","downloadButton relative z-[0] flex h-8 w-8 items-center justify-center rounded-full svelte-1531kac"),p(P,"class","gradient-overlay z-[-1] rounded-full svelte-1531kac"),ce(N.src,ee=ft)||p(N,"src",ee),p(N,"alt",""),p(N,"class","actions relative h-4 w-4 opacity-0 transition-all duration-500 svelte-1531kac"),Ve(N,"copied",n[5]),p(q,"class","downloadButton relative z-[0] flex h-8 w-8 items-center justify-center rounded-full svelte-1531kac"),p(U,"class","absolute right-0 top-[8%] z-[3] mr-5 flex gap-2"),p(f,"class","controller absolute bottom-0 z-[3] w-full px-5 transition-all duration-500 svelte-1531kac"),p(te,"class",se=Ce(Ue("absolute left-1/2 top-1/2 z-[3] flex aspect-[1/1] h-12 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full bg-[#006FB9] transition-all duration-500",n[3]&&"pauseButton"))+" svelte-1531kac"),p(e,"class","wrapper relative h-fit w-full overflow-hidden rounded-[0.625rem] svelte-1531kac"),Ve(e,"loaded",n[6])},m(R,V){O(R,e,V),h(e,l),h(l,t),h(l,s),h(l,o),h(e,i),h(e,f),h(f,c),h(c,u),n[11](u),h(f,_),h(f,I),h(I,m),h(m,F),h(I,W),h(I,L),h(L,z),h(f,M),h(f,U),h(U,S),h(U,J),h(U,q),h(q,P),h(q,C),h(q,N),h(e,fe),h(e,te),G.m(te,null),ie||(ye=[De(S,"click",n[8]),De(q,"click",n[10]),De(te,"click",n[9])],ie=!0)},p(R,[V]){V&1&&!ce(t.src,r=R[0])&&p(t,"src",r),V&20&&d!==(d=R[2]/R[4]*100)&&p(c,"aria-valuenow",d),V&4&&g!==(g=je(R[2])+"")&&we(F,g),V&16&&$!==($=je(R[4])+"")&&we(z,$),V&32&&Ve(N,"copied",R[5]),ne!==(ne=he(R))&&(G.d(1),G=ne(R),G&&(G.c(),G.m(te,null))),V&8&&se!==(se=Ce(Ue("absolute left-1/2 top-1/2 z-[3] flex aspect-[1/1] h-12 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full bg-[#006FB9] transition-all duration-500",R[3]&&"pauseButton"))+" svelte-1531kac")&&p(te,"class",se),V&64&&Ve(e,"loaded",R[6])},i:Q,o:Q,d(R){R&&b(e),n[11](null),G.d(),ie=!1,it(ye)}}}function je(n){const e=Math.floor(n/60),l=Math.floor(n%60);return`${e}:${l.toString().padStart(2,"0")}`}function Bt(n,e,l){let{videoUrl:t=""}=e;const r=crypto.randomUUID();let s,a,o=0,i=!1,f=0,c=!1,u=!1;async function d(){try{window.open(t,"_blank")}catch(g){console.error("Failed to open video:",g)}}Fe(()=>{s=document.querySelector(`#video-${r}`),s.addEventListener("timeupdate",()=>{l(2,o=s.currentTime);const g=o/s.duration*100;a&&l(1,a.style.width=`${g}%`,a)}),s.addEventListener("play",()=>{l(3,i=!0)}),s.addEventListener("pause",()=>{l(3,i=!1)}),s.addEventListener("ended",()=>{l(3,i=!1)}),s.addEventListener("loadedmetadata",()=>{l(4,f=s.duration)}),s.addEventListener("loadeddata",()=>{l(6,u=!0)})});function _(){s&&(i?s.pause():s.play())}async function I(){try{await navigator.clipboard.writeText(t),l(5,c=!0),setTimeout(()=>{l(5,c=!1)},2e3)}catch(g){console.error("Failed to copy URL:",g)}}function m(g){Be[g?"unshift":"push"](()=>{a=g,l(1,a)})}return n.$$set=g=>{"videoUrl"in g&&l(0,t=g.videoUrl)},[t,a,o,i,f,c,u,r,d,_,I,m]}class We extends qe{constructor(e){super(),Pe(this,e,Bt,jt,Oe,{videoUrl:0})}}function Mt(n){let e,l='<p class="w-full text-center font-normal">Failed to see generation result</p>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(t){e=y(t,"DIV",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-1kdq38a"&&(e.innerHTML=l),this.h()},h(){p(e,"class","flex h-full items-center py-8")},m(t,r){O(t,e,r)},p:Q,d(t){t&&b(e)}}}function Ot(n){let e,l="NFNITY SAYS:",t,r,s;return{c(){e=w("h3"),e.textContent=l,t=j(),r=w("p"),s=me(n[0]),this.h()},l(a){e=y(a,"H3",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-18k6ei"&&(e.textContent=l),t=B(a),r=y(a,"P",{class:!0});var o=A(r);s=_e(o,n[0]),o.forEach(b),this.h()},h(){p(e,"class","mx-8 mb-8 mt-8 font-normal"),p(r,"class","wrap mx-8 mb-12 font-normal svelte-nlqbgj")},m(a,o){O(a,e,o),O(a,t,o),O(a,r,o),h(r,s)},p(a,o){o&1&&we(s,a[0])},d(a){a&&(b(e),b(t),b(r))}}}function qt(n){let e,l,t,r,s,a;function o(c,u){return c[0]?Ot:Mt}let i=o(n),f=i(n);return{c(){e=w("div"),l=w("div"),t=w("img"),s=j(),a=w("div"),f.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var u=A(e);l=y(u,"DIV",{class:!0});var d=A(l);t=y(d,"IMG",{src:!0,alt:!0,class:!0,style:!0}),d.forEach(b),s=B(u),a=y(u,"DIV",{class:!0});var _=A(a);f.l(_),_.forEach(b),u.forEach(b),this.h()},h(){ce(t.src,r=n[1])||p(t,"src",r),p(t,"alt",""),p(t,"class","h-full w-full rounded-[0.625rem]"),Je(t,"object-fit",n[3]),p(l,"class","image flex-1 overflow-hidden rounded-[0.625rem] svelte-nlqbgj"),p(a,"class","flex-1"),p(e,"class","wrapper flex w-full flex-col items-stretch gap-4 rounded-[0.625rem] bg-[#141313] md:bg-black md:bg-opacity-[0.64] lg:flex-row svelte-nlqbgj")},m(c,u){O(c,e,u),h(e,l),h(l,t),n[4](t),h(e,s),h(e,a),f.m(a,null)},p(c,[u]){u&2&&!ce(t.src,r=c[1])&&p(t,"src",r),u&8&&Je(t,"object-fit",c[3]),i===(i=o(c))&&f?f.p(c,u):(f.d(1),f=i(c),f&&(f.c(),f.m(a,null)))},i:Q,o:Q,d(c){c&&b(e),n[4](null),f.d()}}}function Pt(n,e,l){let{text:t}=e,{image:r}=e,s,a="contain",o;function i(){if(!s)return;const c=s.parentElement.offsetWidth/s.parentElement.offsetHeight,u=s.naturalWidth/s.naturalHeight;l(3,a=u>c?"contain":"cover")}Fe(()=>{o=new ResizeObserver(i),s!=null&&s.parentElement&&o.observe(s.parentElement)}),ot(()=>{o&&o.disconnect()});function f(c){Be[c?"unshift":"push"](()=>{s=c,l(2,s)})}return n.$$set=c=>{"text"in c&&l(0,t=c.text),"image"in c&&l(1,r=c.image)},[t,r,s,a,f]}class Rt extends qe{constructor(e){super(),Pe(this,e,Pt,qt,Oe,{text:0,image:1})}}function et(n,e,l){const t=n.slice();return t[57]=e[l],t}function tt(n,e,l){const t=n.slice();return t[54]=e[l].url,t}function St(n){let e;return{c(){e=me("Reset")},l(l){e=_e(l,"Reset")},m(l,t){O(l,e,t)},d(l){l&&b(e)}}}function Ft(n){let e,l;return e=new He({props:{fullWidth:!0,disabled:n[5]!=="Generate"||!n[3].isAuthenticated,type:"submit",$$slots:{default:[zt]},$$scope:{ctx:n}}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&40&&(s.disabled=t[5]!=="Generate"||!t[3].isAuthenticated),r[0]&36|r[1]&536870912&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ht(n){let e,l;return e=new He({props:{fullWidth:!0,type:"button",$$slots:{default:[Qt]},$$scope:{ctx:n}}}),e.$on("click",function(){ut(n[16]?n[35]:n[36])&&(n[16]?n[35]:n[36]).apply(this,arguments)}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){n=t;const s={};r[0]&36|r[1]&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Gt(n){let e,l;return e=new mt({props:{amount:n[2],variant:"black"}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&4&&(s.amount=t[2]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Wt(n){let e,l='<img src="/spin.gif" alt="spin" class="absolute left-1/2 top-1/2 w-8 -translate-x-1/2 -translate-y-1/2"/>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(t){e=y(t,"DIV",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-1xxyvx5"&&(e.innerHTML=l),this.h()},h(){p(e,"class","relative w-10")},m(t,r){O(t,e,r)},p:Q,i:Q,o:Q,d(t){t&&b(e)}}}function zt(n){let e,l,t,r,s,a,o;const i=[Wt,Gt],f=[];function c(u,d){return d[0]&32&&(l=null),l==null&&(l=!!u[5].includes("...")),l?0:u[2]?1:-1}return~(t=c(n,[-1,-1]))&&(r=f[t]=i[t](n)),{c(){e=w("div"),r&&r.c(),s=j(),a=me(n[5]),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=A(e);r&&r.l(d),s=B(d),a=_e(d,n[5]),d.forEach(b),this.h()},h(){p(e,"class","flex items-center justify-center gap-2")},m(u,d){O(u,e,d),~t&&f[t].m(e,null),h(e,s),h(e,a),o=!0},p(u,d){let _=t;t=c(u,d),t===_?~t&&f[t].p(u,d):(r&&(ke(),D(f[_],1,1,()=>{f[_]=null}),be()),~t?(r=f[t],r?r.p(u,d):(r=f[t]=i[t](u),r.c()),T(r,1),r.m(e,s)):r=null),(!o||d[0]&32)&&we(a,u[5])},i(u){o||(T(r),o=!0)},o(u){D(r),o=!1},d(u){u&&b(e),~t&&f[t].d()}}}function Yt(n){let e,l;return e=new mt({props:{amount:n[2],variant:"black"}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&4&&(s.amount=t[2]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Jt(n){let e,l='<img src="/spin.gif" alt="spin" class="absolute left-1/2 top-1/2 w-8 -translate-x-1/2 -translate-y-1/2"/>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(t){e=y(t,"DIV",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-1xxyvx5"&&(e.innerHTML=l),this.h()},h(){p(e,"class","relative w-10")},m(t,r){O(t,e,r)},p:Q,i:Q,o:Q,d(t){t&&b(e)}}}function Qt(n){let e,l,t,r,s,a,o;const i=[Jt,Yt],f=[];function c(u,d){return d[0]&32&&(l=null),l==null&&(l=!!u[5].includes("...")),l?0:u[2]?1:-1}return~(t=c(n,[-1,-1]))&&(r=f[t]=i[t](n)),{c(){e=w("div"),r&&r.c(),s=j(),a=me(n[5]),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=A(e);r&&r.l(d),s=B(d),a=_e(d,n[5]),d.forEach(b),this.h()},h(){p(e,"class","flex items-center justify-center gap-2")},m(u,d){O(u,e,d),~t&&f[t].m(e,null),h(e,s),h(e,a),o=!0},p(u,d){let _=t;t=c(u,d),t===_?~t&&f[t].p(u,d):(r&&(ke(),D(f[_],1,1,()=>{f[_]=null}),be()),~t?(r=f[t],r?r.p(u,d):(r=f[t]=i[t](u),r.c()),T(r,1),r.m(e,s)):r=null),(!o||d[0]&32)&&we(a,u[5])},i(u){o||(T(r),o=!0)},o(u){D(r),o=!1},d(u){u&&b(e),~t&&f[t].d()}}}function lt(n){let e,l,t,r,s,a="Hey! You are running out of credits 🤦‍♂️",o,i,f="Lets upgrade so that you keep all the benefits",c,u,d="upgrade now",_,I;return{c(){e=w("div"),l=w("img"),r=j(),s=w("h3"),s.textContent=a,o=j(),i=w("p"),i.textContent=f,c=j(),u=w("button"),u.textContent=d,this.h()},l(m){e=y(m,"DIV",{class:!0});var g=A(e);l=y(g,"IMG",{src:!0,alt:!0,class:!0}),r=B(g),s=y(g,"H3",{class:!0,"data-svelte-h":!0}),pe(s)!=="svelte-1g9o72m"&&(s.textContent=a),o=B(g),i=y(g,"P",{class:!0,"data-svelte-h":!0}),pe(i)!=="svelte-1d078n7"&&(i.textContent=f),c=B(g),u=y(g,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(u)!=="svelte-1otq15q"&&(u.textContent=d),g.forEach(b),this.h()},h(){ce(l.src,t=Dt)||p(l,"src",t),p(l,"alt",""),p(l,"class","h-8 w-8"),p(s,"class","mp-4 mt-8 text-[0.875rem] md:text-[1rem]"),p(i,"class","mb-4 text-[0.75rem] text-[#A3A3A3] md:text-[0.875rem]"),p(u,"class","rounded-[0.625rem] bg-[#BF3C00] px-3 py-1 text-[0.75rem] md:text-[0.875rem]"),p(e,"class","gradientBorder xs:px-14 mx-auto flex w-fit flex-col items-center px-5 pb-6 pt-3 svelte-179bxxi")},m(m,g){O(m,e,g),h(e,l),h(e,r),h(e,s),h(e,o),h(e,i),h(e,c),h(e,u),_||(I=De(u,"click",n[38]),_=!0)},d(m){m&&b(e),_=!1,I()}}}function rt(n){let e;return{c(){e=w("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),A(e).forEach(b),this.h()},h(){p(e,"class","h-[1px] bg-white bg-opacity-20")},m(l,t){O(l,e,t)},d(l){l&&b(e)}}}function Kt(n){let e,l,t,r,s,a,o,i,f,c,u=!n[21].md&&st();const d=[rl,ll,tl,el,xt,Zt],_=[];function I(m,g){var F,W,L,$;return g[0]&1&&(t=null),g[0]&1&&(r=null),g[0]&1&&(s=null),m[20]=="64"?0:(t==null&&(t=!!m[25]((F=m[0])==null?void 0:F.output)),t?1:(r==null&&(r=!!Array.isArray((W=m[0])==null?void 0:W.output)),r?2:(s==null&&(s=!!m[24]((L=m[0])==null?void 0:L.output)),s?3:typeof(($=m[0])==null?void 0:$.output)=="string"?4:5)))}return a=I(n,[-1,-1]),o=_[a]=d[a](n),{c(){u&&u.c(),e=j(),l=w("div"),o.c(),this.h()},l(m){u&&u.l(m),e=B(m),l=y(m,"DIV",{class:!0,style:!0});var g=A(l);o.l(g),g.forEach(b),this.h()},h(){var m,g,F,W,L,$,z,M,U,S,Y,J,q,P;p(l,"class",i=Ce(Ue("font-mont grid gap-6 self-stretch overflow-hidden text-ellipsis whitespace-nowrap text-sm font-bold leading-6 text-white",{"mx-auto w-[50%] place-items-center":(!Array.isArray((m=n[0])==null?void 0:m.output)||((g=n[0])==null?void 0:g.output.length)===1)&&!n[25]((F=n[0])==null?void 0:F.output)&&!n[24]((W=n[0])==null?void 0:W.output)&&!n[26](n[0].output),"mx-auto w-full lg:w-[50%]":!Array.isArray((L=n[0])==null?void 0:L.output)&&(n[24](($=n[0])==null?void 0:$.output)||n[26](n[0].output)),"grid-cols-2":Array.isArray((z=n[0])==null?void 0:z.output)&&((M=n[0])==null?void 0:M.output.length)>1||n[25]((U=n[0])==null?void 0:U.output)&&((S=n[0])==null?void 0:S.output.images.length)>1,"xl:grid-cols-3":Array.isArray((Y=n[0])==null?void 0:Y.output)&&((J=n[0])==null?void 0:J.output.length)>2||n[25]((q=n[0])==null?void 0:q.output)&&((P=n[0])==null?void 0:P.output.images.length)>2}))+" svelte-179bxxi"),p(l,"style",f=n[20]=="64"&&"display: block; max-width: 950px; margin: 0 auto")},m(m,g){u&&u.m(m,g),O(m,e,g),O(m,l,g),_[a].m(l,null),c=!0},p(m,g){var W,L,$,z,M,U,S,Y,J,q,P,C,N,ee;m[21].md?u&&(u.d(1),u=null):u||(u=st(),u.c(),u.m(e.parentNode,e));let F=a;a=I(m,g),a===F?_[a].p(m,g):(ke(),D(_[F],1,1,()=>{_[F]=null}),be(),o=_[a],o?o.p(m,g):(o=_[a]=d[a](m),o.c()),T(o,1),o.m(l,null)),(!c||g[0]&1&&i!==(i=Ce(Ue("font-mont grid gap-6 self-stretch overflow-hidden text-ellipsis whitespace-nowrap text-sm font-bold leading-6 text-white",{"mx-auto w-[50%] place-items-center":(!Array.isArray((W=m[0])==null?void 0:W.output)||((L=m[0])==null?void 0:L.output.length)===1)&&!m[25](($=m[0])==null?void 0:$.output)&&!m[24]((z=m[0])==null?void 0:z.output)&&!m[26](m[0].output),"mx-auto w-full lg:w-[50%]":!Array.isArray((M=m[0])==null?void 0:M.output)&&(m[24]((U=m[0])==null?void 0:U.output)||m[26](m[0].output)),"grid-cols-2":Array.isArray((S=m[0])==null?void 0:S.output)&&((Y=m[0])==null?void 0:Y.output.length)>1||m[25]((J=m[0])==null?void 0:J.output)&&((q=m[0])==null?void 0:q.output.images.length)>1,"xl:grid-cols-3":Array.isArray((P=m[0])==null?void 0:P.output)&&((C=m[0])==null?void 0:C.output.length)>2||m[25]((N=m[0])==null?void 0:N.output)&&((ee=m[0])==null?void 0:ee.output.images.length)>2}))+" svelte-179bxxi"))&&p(l,"class",i),(!c||g[0]&1048576&&f!==(f=m[20]=="64"&&"display: block; max-width: 950px; margin: 0 auto"))&&p(l,"style",f)},i(m){c||(T(o),c=!0)},o(m){D(o),c=!1},d(m){m&&(b(e),b(l)),u&&u.d(m),_[a].d()}}}function Xt(n){let e,l;return e=new It({props:{status:n[1],elapsedTime:n[12],message:n[13]}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&2&&(s.status=t[1]),r[0]&4096&&(s.elapsedTime=t[12]),r[0]&8192&&(s.message=t[13]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function st(n){let e,l="Results";return{c(){e=w("h2"),e.textContent=l,this.h()},l(t){e=y(t,"H2",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-xw3znm"&&(e.textContent=l),this.h()},h(){p(e,"class","text-[1rem]")},m(t,r){O(t,e,r)},d(t){t&&b(e)}}}function Zt(n){var r;let e,l=JSON.stringify((r=n[0])==null?void 0:r.output,null,2)+"",t;return{c(){e=w("pre"),t=me(l),this.h()},l(s){e=y(s,"PRE",{class:!0});var a=A(e);t=_e(a,l),a.forEach(b),this.h()},h(){p(e,"class","w-full whitespace-pre-wrap")},m(s,a){O(s,e,a),h(e,t)},p(s,a){var o;a[0]&1&&l!==(l=JSON.stringify((o=s[0])==null?void 0:o.output,null,2)+"")&&we(t,l)},i:Q,o:Q,d(s){s&&b(e)}}}function xt(n){let e,l,t,r,s,a,o;const i=[il,al,nl,sl],f=[];function c(u,d){return d[0]&1&&(e=null),d[0]&1&&(l=null),d[0]&1&&(t=null),e==null&&(e=!!u[26](u[0].output)),e?0:(l==null&&(l=!!u[27](u[0].output)),l?1:(t==null&&(t=!!u[28](u[0].output)),t?2:3))}return r=c(n,[-1,-1]),s=f[r]=i[r](n),{c(){s.c(),a=Ae()},l(u){s.l(u),a=Ae()},m(u,d){f[r].m(u,d),O(u,a,d),o=!0},p(u,d){let _=r;r=c(u,d),r===_?f[r].p(u,d):(ke(),D(f[_],1,1,()=>{f[_]=null}),be(),s=f[r],s?s.p(u,d):(s=f[r]=i[r](u),s.c()),T(s,1),s.m(a.parentNode,a))},i(u){o||(T(s),o=!0)},o(u){D(s),o=!1},d(u){u&&b(a),f[r].d(u)}}}function el(n){let e,l;return e=new We({props:{videoUrl:n[0].output.video.url}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.videoUrl=t[0].output.video.url),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function tl(n){let e,l,t=Me(n[0].output),r=[];for(let a=0;a<t.length;a+=1)r[a]=nt(et(n,t,a));const s=a=>D(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=Ae()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=Ae()},m(a,o){for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(a,o);O(a,e,o),l=!0},p(a,o){if(o[0]&469762049){t=Me(a[0].output);let i;for(i=0;i<t.length;i+=1){const f=et(a,t,i);r[i]?(r[i].p(f,o),T(r[i],1)):(r[i]=nt(f),r[i].c(),T(r[i],1),r[i].m(e.parentNode,e))}for(ke(),i=t.length;i<r.length;i+=1)s(i);be()}},i(a){if(!l){for(let o=0;o<t.length;o+=1)T(r[o]);l=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)D(r[o]);l=!1},d(a){a&&b(e),ct(r,a)}}}function ll(n){var a;let e,l,t=Me((a=n[0])==null?void 0:a.output.images),r=[];for(let o=0;o<t.length;o+=1)r[o]=at(tt(n,t,o));const s=o=>D(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=Ae()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=Ae()},m(o,i){for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(o,i);O(o,e,i),l=!0},p(o,i){var f;if(i[0]&1){t=Me((f=o[0])==null?void 0:f.output.images);let c;for(c=0;c<t.length;c+=1){const u=tt(o,t,c);r[c]?(r[c].p(u,i),T(r[c],1)):(r[c]=at(u),r[c].c(),T(r[c],1),r[c].m(e.parentNode,e))}for(ke(),c=t.length;c<r.length;c+=1)s(c);be()}},i(o){if(!l){for(let i=0;i<t.length;i+=1)T(r[i]);l=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)D(r[i]);l=!1},d(o){o&&b(e),ct(r,o)}}}function rl(n){var t,r;let e,l;return e=new Rt({props:{image:n[6].image,text:((t=n[0])==null?void 0:t.output)&&((r=n[0])==null?void 0:r.output.join(" "))}}),{c(){K(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,a){Z(e,s,a),l=!0},p(s,a){var i,f;const o={};a[0]&64&&(o.image=s[6].image),a[0]&1&&(o.text=((i=s[0])==null?void 0:i.output)&&((f=s[0])==null?void 0:f.output.join(" "))),e.$set(o)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){D(e.$$.fragment,s),l=!1},d(s){x(e,s)}}}function sl(n){let e,l=n[0].output+"",t;return{c(){e=w("pre"),t=me(l),this.h()},l(r){e=y(r,"PRE",{class:!0});var s=A(e);t=_e(s,l),s.forEach(b),this.h()},h(){p(e,"class","w-full whitespace-pre-wrap")},m(r,s){O(r,e,s),h(e,t)},p(r,s){s[0]&1&&l!==(l=r[0].output+"")&&we(t,l)},i:Q,o:Q,d(r){r&&b(e)}}}function nl(n){let e,l;return e=new Ge({props:{src:n[0].output,className:"w-full"}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.src=t[0].output),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function al(n){let e,l;return e=new We({props:{videoUrl:n[0].output}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.videoUrl=t[0].output),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function il(n){let e,l;return e=new pt({props:{audioUrl:n[0].output}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.audioUrl=t[0].output),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function ol(n){let e,l=n[57]+"",t;return{c(){e=w("pre"),t=me(l),this.h()},l(r){e=y(r,"PRE",{class:!0});var s=A(e);t=_e(s,l),s.forEach(b),this.h()},h(){p(e,"class","w-full whitespace-pre-wrap")},m(r,s){O(r,e,s),h(e,t)},p(r,s){s[0]&1&&l!==(l=r[57]+"")&&we(t,l)},i:Q,o:Q,d(r){r&&b(e)}}}function ul(n){let e,l;return e=new Ge({props:{src:n[57],className:"w-full"}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.src=t[57]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function cl(n){let e,l;return e=new We({props:{videoUrl:n[57]}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.videoUrl=t[57]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function fl(n){let e,l;return e=new pt({props:{audioUrl:n[57]}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.audioUrl=t[57]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function nt(n){let e,l,t,r,s,a,o,i;const f=[fl,cl,ul,ol],c=[];function u(d,_){return _[0]&1&&(l=null),_[0]&1&&(t=null),_[0]&1&&(r=null),l==null&&(l=!!d[26](d[57])),l?0:(t==null&&(t=!!d[27](d[57])),t?1:(r==null&&(r=!!d[28](d[57])),r?2:3))}return s=u(n,[-1,-1]),a=c[s]=f[s](n),{c(){e=w("div"),a.c(),o=j(),this.h()},l(d){e=y(d,"DIV",{class:!0});var _=A(e);a.l(_),o=B(_),_.forEach(b),this.h()},h(){p(e,"class","flex w-full flex-col items-center gap-2")},m(d,_){O(d,e,_),c[s].m(e,null),h(e,o),i=!0},p(d,_){let I=s;s=u(d,_),s===I?c[s].p(d,_):(ke(),D(c[I],1,1,()=>{c[I]=null}),be(),a=c[s],a?a.p(d,_):(a=c[s]=f[s](d),a.c()),T(a,1),a.m(e,o))},i(d){i||(T(a),i=!0)},o(d){D(a),i=!1},d(d){d&&b(e),c[s].d()}}}function at(n){let e,l;return e=new Ge({props:{src:n[54],alt:"result"}}),{c(){K(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,r){Z(e,t,r),l=!0},p(t,r){const s={};r[0]&1&&(s.src=t[54]),e.$set(s)},i(t){l||(T(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function dl(n){var Ie,Ee,ve;let e,l,t,r,s,a,o,i,f,c,u,d,_,I,m,g,F,W,L,$,z,M,U,S,Y,J,q,P,C,N,ee,fe,te;l=new At({props:{src:(Ie=n[11])==null?void 0:Ie.src,title:(Ee=n[11])==null?void 0:Ee.title,isVideo:(ve=n[11])==null?void 0:ve.isVideo,titleLocation:"left",name:n[17]}});function se(k){n[32](k)}let ie={areAdvanced:Object.keys(n[18].advanced).length>0,className:"ml-auto"};n[4]!==void 0&&(ie.currentTabID=n[4]),s=new kt({props:ie}),Be.push(()=>Ke(s,"currentTabID",se));function ye(k){n[33](k)}let he={inputs:n[18],currentTabID:n[4]};n[6]!==void 0&&(he.formValues=n[6]),g=new wt({props:he}),Be.push(()=>Ke(g,"formValues",ye)),$=new He({props:{fullWidth:!0,variant:"outlined",type:"button",$$slots:{default:[St]},$$scope:{ctx:n}}}),$.$on("click",n[34]);const ne=[Ht,Ft],G=[];function R(k,E){return!k[3].isAuthenticated||k[16]?0:1}M=R(n),U=G[M]=ne[M](n);let V=n[16]&&lt(n),H=n[21].md&&rt();const oe=[Xt,Kt],ae=[];function ge(k,E){return k[8]?0:k[9]?1:-1}return~(C=ge(n))&&(N=ae[C]=oe[C](n)),{c(){e=w("div"),K(l.$$.fragment),t=j(),r=w("div"),K(s.$$.fragment),o=j(),i=w("form"),f=w("input"),c=j(),u=w("input"),_=j(),I=w("input"),m=j(),K(g.$$.fragment),W=j(),L=w("div"),K($.$$.fragment),z=j(),U.c(),Y=j(),V&&V.c(),J=j(),H&&H.c(),q=j(),P=w("div"),N&&N.c(),this.h()},l(k){e=y(k,"DIV",{class:!0});var E=A(e);X(l.$$.fragment,E),t=B(E),r=y(E,"DIV",{class:!0});var ue=A(r);X(s.$$.fragment,ue),o=B(ue),i=y(ue,"FORM",{class:!0,method:!0,action:!0});var le=A(i);f=y(le,"INPUT",{type:!0,name:!0}),c=B(le),u=y(le,"INPUT",{type:!0,name:!0}),_=B(le),I=y(le,"INPUT",{type:!0,name:!0}),m=B(le),X(g.$$.fragment,le),W=B(le),L=y(le,"DIV",{class:!0});var de=A(L);X($.$$.fragment,de),z=B(de),U.l(de),de.forEach(b),le.forEach(b),ue.forEach(b),Y=B(E),V&&V.l(E),J=B(E),H&&H.l(E),q=B(E),P=y(E,"DIV",{class:!0});var Te=A(P);N&&N.l(Te),Te.forEach(b),E.forEach(b),this.h()},h(){p(f,"type","hidden"),p(f,"name","signature"),f.value=n[15],p(u,"type","hidden"),p(u,"name","message"),u.value=d=JSON.stringify(n[14]),p(I,"type","hidden"),p(I,"name","provider"),I.value=n[19],p(L,"class","ml-auto mt-6 flex flex w-full max-w-80 gap-2"),p(i,"class","flex flex-col"),p(i,"method","POST"),p(i,"action","?/generate"),p(r,"class","flex flex-col gap-6 px-4 md:px-0"),p(P,"class","flex flex-col items-stretch gap-4 px-4 md:px-0"),p(e,"class","flex flex-col gap-8")},m(k,E){O(k,e,E),Z(l,e,null),h(e,t),h(e,r),Z(s,r,null),h(r,o),h(r,i),h(i,f),h(i,c),h(i,u),h(i,_),h(i,I),h(i,m),Z(g,i,null),h(i,W),h(i,L),Z($,L,null),h(L,z),G[M].m(L,null),h(e,Y),V&&V.m(e,null),h(e,J),H&&H.m(e,null),h(e,q),h(e,P),~C&&ae[C].m(P,null),ee=!0,fe||(te=_t(S=yt.call(null,i,n[37])),fe=!0)},p(k,E){var re,ze,Ye;const ue={};E[0]&2048&&(ue.src=(re=k[11])==null?void 0:re.src),E[0]&2048&&(ue.title=(ze=k[11])==null?void 0:ze.title),E[0]&2048&&(ue.isVideo=(Ye=k[11])==null?void 0:Ye.isVideo),E[0]&131072&&(ue.name=k[17]),l.$set(ue);const le={};E[0]&262144&&(le.areAdvanced=Object.keys(k[18].advanced).length>0),!a&&E[0]&16&&(a=!0,le.currentTabID=k[4],Qe(()=>a=!1)),s.$set(le),(!ee||E[0]&32768)&&(f.value=k[15]),(!ee||E[0]&16384&&d!==(d=JSON.stringify(k[14])))&&(u.value=d),(!ee||E[0]&524288)&&(I.value=k[19]);const de={};E[0]&262144&&(de.inputs=k[18]),E[0]&16&&(de.currentTabID=k[4]),!F&&E[0]&64&&(F=!0,de.formValues=k[6],Qe(()=>F=!1)),g.$set(de);const Te={};E[1]&536870912&&(Te.$$scope={dirty:E,ctx:k}),$.$set(Te);let $e=M;M=R(k),M===$e?G[M].p(k,E):(ke(),D(G[$e],1,1,()=>{G[$e]=null}),be(),U=G[M],U?U.p(k,E):(U=G[M]=ne[M](k),U.c()),T(U,1),U.m(L,null)),S&&ut(S.update)&&E[0]&13602&&S.update.call(null,k[37]),k[16]?V||(V=lt(k),V.c(),V.m(e,J)):V&&(V.d(1),V=null),k[21].md?H||(H=rt(),H.c(),H.m(e,q)):H&&(H.d(1),H=null);let v=C;C=ge(k),C===v?~C&&ae[C].p(k,E):(N&&(ke(),D(ae[v],1,1,()=>{ae[v]=null}),be()),~C?(N=ae[C],N?N.p(k,E):(N=ae[C]=oe[C](k),N.c()),T(N,1),N.m(P,null)):N=null)},i(k){ee||(T(l.$$.fragment,k),T(s.$$.fragment,k),T(g.$$.fragment,k),T($.$$.fragment,k),T(U),T(N),ee=!0)},o(k){D(l.$$.fragment,k),D(s.$$.fragment,k),D(g.$$.fragment,k),D($.$$.fragment,k),D(U),D(N),ee=!1},d(k){k&&b(e),x(l),x(s),x(g),x($),G[M].d(),V&&V.d(),H&&H.d(),~C&&ae[C].d(),fe=!1,te()}}}function pl(n,e,l){let t,r,s,a,o,i,f,c,u,d,_,I,m,g,F,W;Ne(n,Ze,v=>l(3,I=v)),Ne(n,Tt,v=>l(31,m=v)),Ne(n,Re,v=>l(45,g=v)),Ne(n,Se,v=>l(46,F=v)),Ne(n,gt,v=>l(21,W=v));let{data:L}=e,{form:$}=e,z="essential",M="Generate",U={},S={},Y,J,q,P,C,N,ee,fe,te,se=0,ie="";const ye=()=>{l(8,Y=!0),l(5,M="Generating..."),l(12,se=0),l(13,ie=""),he(),fe=setInterval(G,100),te=setInterval(R,5e3)},he=()=>{clearInterval(te),clearInterval(fe),clearInterval(N)},ne=v=>{he(),l(8,Y=!1),l(9,J=!1),l(0,q=null),l(5,M="Generate"),v.includes("Insufficient NFNT balance")||v.includes("Insufficient balance")?Le(Xe):Le(Vt,{message:v})},G=()=>{l(12,se+=.1),se>10&&se<=30?l(13,ie="Patience is a virtue"):se>30&&l(13,ie="Some models can take long time to provide prediction, do not close this page and come back later. In next iteration we will add a system where you can not only view all your past generations, but be able to close page and come back to view result later.")},R=async()=>{if(!P){ne("No run ID available");return}try{const re=await(await fetch(`/api/runs/${P}/status?model=${r}&provider=${s}`)).json();l(1,C=re.status),(C==="completed"||C==="failed")&&(he(),C==="completed"?(V(),H()):ne(re.error||"An error occurred during generation"))}catch(v){ne(v.message||"An error occurred while fetching the status")}},V=async()=>{try{const re=await(await fetch(`/api/runs/${P}/result?model=${r}&provider=${s}`)).json();console.log(re),l(0,q=re.result),l(9,J=!0),l(8,Y=!1),l(5,M="Generate")}catch(v){console.log(v),ne(v.message||"An error occurred while fetching the result")}},H=async()=>{try{const re=await(await fetch("/api/user/balance")).text();Ze.updateCredits(re)}catch(v){console.error("Failed to update credits:",v)}},oe=v=>{Y&&(v.preventDefault(),v.returnValue="")},ae=v=>v&&v.video&&v.video.url,ge=v=>v&&v.images&&v.images.length,Ie=v=>typeof v=="string"&&(v.endsWith(".mp3")||v.endsWith(".wav")),Ee=v=>typeof v=="string"&&(v.endsWith(".mp4")||v.endsWith(".webm")),ve=v=>typeof v=="string"&&(v.endsWith(".jpg")||v.endsWith(".jpeg")||v.endsWith(".png")||v.endsWith(".gif")||v.endsWith(".webp"));Fe(()=>(Re.setById(a),ht(Se,F=a,F),l(4,z=m.url.searchParams.get("tab")||"essential"),l(11,ee={src:g.banner,title:g.description,isVideo:g.isVideo}),$!=null&&$.success&&(l(10,P=$.runID),l(1,C=$.status),fe=setInterval(G,100),te=setInterval(R,5e3),setTimeout(()=>R(),1e3)),i&&(l(6,U={...i.input}),l(7,S={...i.input}),l(0,q={output:i.output}),l(9,J=!0)),window.addEventListener("beforeunload",oe),()=>window.removeEventListener("beforeunload",oe))),ot(()=>{Se.set(null),Re.setById(null)});function k(v){z=v,l(4,z)}function E(v){U=v,l(6,U)}const ue=()=>l(6,U={...S}),le=()=>Le(Xe),de=()=>Le(Et),Te=v=>(l(8,Y=!0),l(1,C="preparing request"),l(5,M="Generating..."),l(12,se=0),l(13,ie=""),({result:re})=>{re.type==="success"?(l(10,P=re.data.runID),l(1,C=re.data.status),ye()):ne(re.data.error||"An error occurred during generation")}),$e=()=>Le(Ct);return n.$$set=v=>{"data"in v&&l(29,L=v.data),"form"in v&&l(30,$=v.form)},n.$$.update=()=>{n.$$.dirty[1]&1&&l(20,{modelID:t}=m.params,t),n.$$.dirty[0]&536870912&&l(19,{slug:r,provider:s,categoryID:a,inputs:o,default_example:i,cost:f,name:c}=L,s,(l(18,o),l(29,L)),(l(2,f),l(29,L)),(l(17,c),l(29,L))),n.$$.dirty[0]&2&&(C==="completed"||C==="failed")&&clearInterval(N),n.$$.dirty[0]&12&&l(16,u=f&&(I==null?void 0:I.credits)&&I.credits<f),n.$$.dirty[0]&8&&l(15,d=(I==null?void 0:I.signature)||""),n.$$.dirty[0]&8&&l(14,_=(I==null?void 0:I.message)||""),n.$$.dirty[0]&1&&console.log("resulttoshow",q)},[q,C,f,I,z,M,U,S,Y,J,P,ee,se,ie,_,d,u,c,o,s,t,W,ye,ne,ae,ge,Ie,Ee,ve,L,$,m,k,E,ue,le,de,Te,$e]}class El extends qe{constructor(e){super(),Pe(this,e,pl,dl,Oe,{data:29,form:30},null,[-1,-1])}}export{El as component};
